<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="index.css">
</head>

<body>
  
  <!-- header 부분 -->
  <header>

  </header>

  <!-- main 부분 -->
  <main>
    <div class="container">
      <div>홈 > 관리자 > <b>상품 관리</b></div>
      <h1 class="title">상품 관리</h1>
      <hr>
      <div class="text-1">기본검색</div>
    </div>


    <!-- 인제시작부분 -->
    <div class="container" style="margin-top:15px;">
      <!-- 111 -->
      <div class="t_wrap">
        <div class="t-left">
          검색어
        </div>
        <div class="t-right">
          <select name="" id="">
            <option value="">상품명</option>
            <option value="">상품명</option>
            <option value="">상품명</option>
            <option value="">상품명</option>
            <option value="">상품명</option>
          </select>
          <input type="text">
        </div>
      </div>
      <!-- 222 -->
      <div class="t_wrap">
        <div class="t-left">
          카테고리
        </div>
        <div class="t-right">
          <select name="" id="" class="t-right2">
            <option value=""> = 카테고리 선택 = </option>
            <option value="">상품명</option>
            <option value="">상품명</option>
            <option value="">상품명</option>
            <option value="">상품명</option>
          </select>
        </div>
      </div>
    </div>
    <!-- 버튼 -->
    <div class="container">
      <div class="btn_wrap">
        <button class="btn_black">검색</button>
        <button class="btn_black">초기화</button>
      </div>
      <hr>
    </div>

    <div class="container">
      <div>
        전체 : <b class="b2">13</b>건 조회 |
        <select name="" id="" class="b2_selector">
          <option value="">상품명</option>
          <option value="">상품명</option>
          <option value="">상품명</option>
          <option value="">상품명</option>
          <option value="">상품명</option>
        </select>
      </div>
      <hr>
      <div class="btn_btw">
        <button class="btn_blank" id="deleteRows" onclick="deleteSelectedRows()">선택삭제</button>
        <button class="btn_red" id="openModal" onclick="openModal()">+상품등록</button>
      </div>
      <!-- -모달- -->

      <div id="modal" class="modal">
        <div class="modal-content">
          <span onclick="closeModal()" style="float: right; cursor: pointer;">&times;</span>
          <h2>상품 추가</h2>
          <label for="product-name">상품명:</label>
          <input type="text" id="product-name">
          <label for="product-number">상품번호:</label>
          <input type="text" id="product-number">
          <label for="product-price">가격:</label>
          <input type="text" id="product-price">
          <label for="product-image">이미지:</label>
          <input type="file" id="product-image" accept="image/*" onchange="previewImage(event)">
          <img id="preview" class="preview-image" src="#" alt="미리보기 이미지">
          <button onclick="addProduct()">추가</button>
        </div>
      </div>

      <!-- 2번째 작업 -->

      <div class="container">
        <table class="product">
          <thead>
            <tr>
              <td><input type="checkbox" name="" id=""></td>
              <td>번호</td>
              <td style="width: 120px;">이미지</td>
              <td style="width: 400px;">상품명</td>
              <td>카테고리</td>
              <td>가격정보</td>
              <td>관리</td>
            </tr>
          </thead>
          <tbody>
            <!-- 반복되는 구간 -->
            <tr>
              <td><input type="checkbox" name="" id=""></td>
              <td>123123</td>
              <td>123</td>
              <td>123</td>
              <td>123</td>
              <td>123</td>
              <td><button class="btn_black">수정</button></td>
            </tr>
            <!-- 반복되는 구간 -->
            <tr>
              <td><input type="checkbox" name="" id=""></td>
              <td>123123</td>
              <td>123</td>
              <td>123</td>
              <td>123</td>
              <td>123</td>
              <td><button class="btn_black">수정</button></td>
            </tr>
          </tbody>
        </table>
      </div>

  </main>

  <!-- footer 부분 -->
  <footer>

  </footer>

  <script>
    function deleteSelectedRows() {
      var checkboxes = document.querySelectorAll(".product tbody input[type='checkbox']");
      var rowsToDelete = [];

      checkboxes.forEach(function (checkbox) {
        if (checkbox.checked) {
          rowsToDelete.push(checkbox.parentNode.parentNode);
        }
      });

      rowsToDelete.forEach(function (row) {
        row.parentNode.removeChild(row);
      });
    }

    //모달창

    let modal = document.getElementById("modal");
    let previewImg = document.getElementById("preview");

    function openModal() {
      modal.style.display = "block";
    }

    function closeModal() {
      modal.style.display = "none";
    }

    function previewImage(event) {
      let reader = new FileReader();
      reader.onload = function () {
        previewImg.src = reader.result;
      }
      reader.readAsDataURL(event.target.files[0]);
    }

    function addProduct() {
      let productName = document.getElementById("product-name").value;
      let productNumber = document.getElementById("product-number").value;
      let productPrice = document.getElementById("product-price").value;
      let productImage = previewImg.src;

      // 여기에서 상품 정보를 활용하여 추가 작업을 수행할 수 있습니다.
      console.log("상품명:", productName);
      console.log("상품번호:", productNumber);
      console.log("가격:", productPrice);
      console.log("이미지:", productImage);

      closeModal();
    }

  </script>
</body>

</html>